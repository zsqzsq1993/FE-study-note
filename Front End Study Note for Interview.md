# Front End Study Note for Interview

前端通用知识点梳理。

## HTML

**1. DOCTYPE**

<!DOCTYPE> 声明在<HTML>标签之前，用于指定以什么样的方式来解析文档。若以标准模式来进行解析，解析规则会以最新的标准；而在兼容模式下，则会向后兼容，以模拟老式浏览器的行为。<!DOCTYPE>不存在或者是模式不正确，都会自动采用兼容模式。

**2. SGML、HTML、XML、XHTML的区别**

1）SGML是标准通用标记语言，是所有电子文档标记语言的起源。

2）HTML是网页标记语言。

3）XML是网页标记语言未来的发展方向，与HTML标签不同的是，XML标签可以自定义，且数量不受限制。

4）XHTML是更加规范化的HTML，限定了包括全部使用小写，标签必须闭合等。

**3. DTD**

Document Type Definition跟DOCTYPE比较相似，用于定义解析文档的规则。HTML5以前，网页页面基于SGML，因此必须指定DTD，现在指定DOCTYPE就好。

**4. 内联元素及块级元素**

在HTML4中，元素主要被分为块级元素及内联元素（行内元素）。

块级元素是指元素宽度会占据父级元素的整个宽度；而行内元素指延伸到边框。

行内元素设置width、height、margin、padding都无效（line-height有效）。

**5. 空元素**

标签内没有内容的元素称为空元素。如img、input、br、hr。

**6. link标签**

link标签定义文档与外部资源的关系。

它是一个空元素，仅包含属性。只能存在于head之中，不过可以出现多次。

**7. link和@import引入css有何区别？**

1）link标签从属于HTML的引入方式，@import是css的引入方式。

2）link标签引入stylesheet在网页加载的同时进行加载，而@import在网页加载完成后进行加载。

3）link标签不存在兼容性；@import标签是css2.1之后的语法，存在兼容性。

**8. 对浏览器的理解**

浏览器是展现web资源的一种载体。用户通过输入uri地址向服务段请求资源，请求的资源在浏览器段进行展示。

浏览器分为两部分。shell和内核。shell就是操作界面，内核是标记语言显示内容的模块。

**9. 对浏览器内核的理解**

浏览器的内核分渲染引擎和JS引擎。渲染引擎就是将各种资源如HTML、XML等渲染成页面在浏览器段呈现。而JS引擎则是解析和执行JS代码。开始两者之前没有明确的划分，但随着JS引擎逐渐强大，两者被慢慢地分开。

**10. 浏览器渲染的原理**

1）客户端请求HTML后渲染引擎对返回的HTML进行解析；

2）接收到的HTML会解析为DOM树；

3）CSS会以类似的形式解析为CSSOM树；

4）CSS应该保证层级扁平，少用特定的选择器，这样在解析CSSOM树时的性能会更好；

5）在解析DOM树的过程中如果遇到了JS script会阻塞渲染，交由JS引擎接手，当JS执行完毕后再交回渲染器。

6）DOM树和CSSOM树会合并成渲染树；

7）生成渲染树后，变会进行布局（回流），交由GPU进行图层的绘制。

**11. 为何操作DOM的代价大**

首先，操作DOM一般是在JS中操作。DOM的渲染和JS的执行分别由渲染引擎和JS引擎执行，频繁地用JS操作DOM会增加两个线程之间的通信，势必造成性能上的损耗。

操作DOM又分为重绘（Repaint）和回流（Reflow）。重绘不会带来布局上的改变比如改变color；而回流需要重新布局，操作的代价更大。

**12. 在script标签中，async和defer有何区别**

首先script标签中的JS代码分为加载和执行两个阶段。

async和defer都会使HTML文档解析到script标签时，异步加载JS代码，从而不阻塞HTML文档的进一步解析。

但区别是，使用async，当资源加载完后会立即执行JS代码，阻塞HTML文档的解析；

而defer则是加载完成后要等待整个HTML文档解析完毕后再执行。

在实际使用的过程中，defer更有意义。

**13. 什么是预加载**

webkit和Gecko内核都进行了预加载的优化。当文档解析到script时，渲染引擎线程并行加载后面需要网络的资源比如图片等，却不对DOM树进行改变。等JS执行完毕后，剩下的解析再由主解析过程完成。

**14. CSS如何阻塞文档的解析**

在执行JS时，若遇到某些JS代码对DOM节点的样式进行改变，而此时CSSOM却未构建完成的话，这显然存在着各种不确定性。因此，JS代码会等到下载并构建完CSSOM树后再执行JS代码，进而继续执行文档的解析。

**15. FOUC和白屏**

FOUC（Flash of Unstyled Content）和 白屏是在浏览器渲染时出现的两种现象。

FOUC是指CSS未被加载完时，渲染引擎对已解析好的DOM进行了渲染并加上了默认样式，当CSS被加载完成后出现的样式改变而导致的闪屏。

白屏是由于某些浏览器的内核要等待DOM和CSSOM树都解析完毕后才进行页面的渲染，而加载CSS的时间过长或是CSS被放在了body的最后引入，从而导致页面长时间未渲染出新白屏。





